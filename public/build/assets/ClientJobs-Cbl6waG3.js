import{r,j as e,b as n}from"./app-CxxjQbGd.js";import{S as d}from"./separator-OWjsBv_k.js";import{DataTable as p}from"./data-table-CRTt3Mt1.js";import{clientJobColumns as f}from"./columns-BEE2vL_W.js";import{I as h}from"./input-DPP4pqCX.js";import{t as x}from"./index-CGbDflUn.js";import{B as u}from"./button-BfCUFj2v.js";import"./index-Drt13xjj.js";import"./index-DdQz_MXT.js";import"./index-B6zYnIfL.js";import"./utils-CytzSlOG.js";import"./table-B3GsT3Yk.js";import"./select-CnJHFvlZ.js";import"./index-CpwjmW8Z.js";import"./Combination-DnQhWoyI.js";import"./createLucideIcon-YMZQpf5O.js";import"./badge-BZbc9Efx.js";import"./index-BwobEAja.js";import"./user-DL4jvKNs.js";import"./eye-CPdCNAC_.js";function M({parentId:t}){const[i,c]=r.useState([]),[o,m]=r.useState("");r.useEffect(()=>{t&&(async()=>{try{const a=await n.get(`/customers/${t}/jobs`);c(a.data)}catch{x.error("Failed to fetch jobs.")}})()},[t]);const l=i.filter(s=>s.job_id.toLowerCase().includes(o.toLowerCase())||s.address.toLowerCase().includes(o.toLowerCase()));return e.jsxs("section",{className:"bg-white border shadow rounded-lg",children:[e.jsx("header",{className:"p-6",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h3",{className:"text-xl font-semibold",children:"Manage Jobs"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage all jobs for this customer."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(h,{placeholder:"Search Jobs...",value:o,onChange:s=>m(s.target.value),className:"max-w-sm"}),e.jsx(u,{onClick:()=>window.location.href=`/collections/create?client_id=${t}`,children:"Add New Job"})]})]})}),e.jsx(d,{}),e.jsx("div",{className:"p-6",children:e.jsx(p,{columns:f,data:l})})]})}export{M as default};
