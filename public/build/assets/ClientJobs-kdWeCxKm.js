import{r as o,j as e,b as n}from"./app-BB65Mc1n.js";import{S as N,A as S,a as w,b as v,B as C,c as B,d as m,e as d,f as E}from"./breadcrumb-D6RxqHid.js";import{S as h}from"./separator-BWJbAkR8.js";import{B as x}from"./button-AMd0rht4.js";import{I as J}from"./input-BdsrUm4j.js";import{DataTable as A}from"./data-table-CS_C7684.js";import{columns as R}from"./columns-DPitYwP6.js";import{t as p}from"./index-BD8g9cTJ.js";import{E as q}from"./eye-zEeA36q9.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./dialog-44kL--cs.js";import"./index-DJRbUwlk.js";import"./index-CwOflKzf.js";import"./index-Bax49BpN.js";import"./index-C6WAMNeG.js";import"./index-BD0Aflgb.js";import"./index-DwCxHBl2.js";import"./createLucideIcon-DhOTYlCm.js";import"./index-d89-VRCp.js";import"./index-C6DuYNlM.js";import"./index--1ygw0mz.js";import"./index-D9Y9XxbS.js";import"./calendar-C06wmWHl.js";import"./table-Baebw86p.js";import"./select-Dp5Udnaz.js";import"./index-DbDOfuCE.js";import"./arrow-up-down-BGwv5Hje.js";function ie({jobs:r}){const[u,a]=o.useState(r),[f,j]=o.useState(""),i=["Quote Draft","Quote Requested","Quote Rejected","Quote Provided"];o.useEffect(()=>{(async()=>{try{const c=(await n.get("/my-collections")).data.jobs.filter(l=>!i.includes(l.job_status));a(c)}catch{p.error("Failed to fetch jobs.")}})()},[]);const b=async s=>{try{const c=(await n.get("/client-jobs/search",{params:{search:s}})).data.filter(l=>!i.includes(l.job_status));a(c)}catch{p.error("Failed to search jobs.")}},g=()=>{window.location.href="/my-collections/request-collection"},y=[...R,{id:"actions",header:"Actions",cell:({row:s})=>{const t=s.original;return e.jsx("div",{className:"flex justify-end space-x-2",children:e.jsx(x,{variant:"outline",size:"sm",onClick:()=>window.location.href=`/my-collections/${t.id}/`,children:e.jsx(q,{className:"h-4 w-4"})})})}}];return o.useEffect(()=>{if(r){const s=r.filter(t=>!i.includes(t.job_status));a(s)}},[r]),e.jsxs(N,{children:[e.jsx(S,{}),e.jsxs(w,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 bg-white border-b",children:[e.jsx(v,{className:"-ml-1"}),e.jsx(h,{orientation:"vertical",className:"h-4 mx-2"}),e.jsx(C,{children:e.jsxs(B,{children:[e.jsx(m,{children:e.jsx(d,{href:"/dashboard",children:"Dashboard"})}),e.jsx(E,{}),e.jsx(m,{children:e.jsx(d,{href:"/my-collections",children:"My Collections"})})]})})]}),e.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-8",children:[e.jsx("div",{className:"text-3xl font-semibold text-gray-800",children:"My Collections"}),e.jsxs("section",{className:"bg-white border shadow rounded-lg p-6",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:"Manage Your Collections"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage your collections."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(J,{placeholder:"Search Collections...",value:f,onChange:s=>{j(s.target.value),b(s.target.value)},className:"max-w-sm"}),e.jsx(x,{onClick:g,children:"Request A Collection"})]})]}),e.jsx(h,{className:"my-4"}),e.jsx(A,{columns:y,data:u})]})]})]})]})}export{ie as default};
