import{V as u,r as a,j as e}from"./app-CNWjOMNx.js";import{S as j,A as g,a as f,b,B as y,c as v,d as c,e as l,f as m}from"./breadcrumb-BRBq9mE3.js";import{S as N}from"./separator-BPue9knr.js";import{B as S}from"./badge-BpDmfbip.js";import{B as w}from"./button-Cif8vmUM.js";import{T}from"./textarea-BcChr0Fv.js";import{t as p}from"./index-DROTMuiR.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./input-CKARXW-H.js";import"./dialog-BfgzRhkV.js";import"./index-D-4-NTWd.js";import"./index-DPKFiV9N.js";import"./index-CnljWFNF.js";import"./index-BHpFse_T.js";import"./index-DUDCROMg.js";import"./index-BJMVI5o3.js";import"./createLucideIcon-ClQ1hqbp.js";import"./index-CmDO7QdU.js";import"./index-CNsmnkFI.js";import"./index-BqYSSVB3.js";import"./index-D0kbjZ6r.js";import"./calendar-BUGi4wxL.js";function U(){u().props;const[i,n]=a.useState(""),[x,o]=a.useState(!1),t=a.useRef(null),r={id:1,ticket_number:"TKT-001",subject:"Collection Query",last_response:"2024-01-15T10:30:00",status:"Open",created_at:"2024-01-15T10:00:00",messages:[{id:1,sender:"Client",message:"I need help with scheduling a collection.",created_at:"2024-01-15T10:00:00"},{id:2,sender:"Support",message:"I'll help you schedule that collection. What date works best for you?",created_at:"2024-01-15T10:30:00"}]},d=()=>{t.current&&(t.current.scrollTop=t.current.scrollHeight)},h=async()=>{if(i.trim()){o(!0);try{p.success("Message sent successfully"),n(""),setTimeout(d,100)}catch(s){console.error("Error sending message:",s),p.error("Failed to send message")}finally{o(!1)}}};return a.useEffect(()=>{d()},[r.messages]),e.jsxs(j,{children:[e.jsx(g,{}),e.jsxs(f,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 bg-white border-b",children:[e.jsx(b,{className:"-ml-1"}),e.jsx(N,{orientation:"vertical",className:"h-4 mx-2"}),e.jsx(y,{children:e.jsxs(v,{children:[e.jsx(c,{children:e.jsx(l,{href:"/dashboard",children:"Dashboard"})}),e.jsx(m,{}),e.jsx(c,{children:e.jsx(l,{href:"/support",children:"Support"})}),e.jsx(m,{}),e.jsx(c,{children:e.jsx(l,{href:"/support/view",children:r.ticket_number})})]})})]}),e.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-8",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-2xl font-semibold text-gray-900",children:r.subject}),e.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[e.jsx("span",{children:r.ticket_number}),e.jsx("span",{children:"•"}),e.jsx("span",{children:new Date(r.created_at).toLocaleDateString()}),e.jsx("span",{children:"•"}),e.jsx(S,{variant:"success",children:r.status})]})]})}),e.jsxs("div",{className:"bg-white border shadow rounded-lg p-6",children:[e.jsx("div",{ref:t,className:"space-y-4 mb-4 max-h-[400px] overflow-y-auto",children:r.messages.map(s=>e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsx("div",{className:"flex justify-between items-start",children:e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx("div",{className:"text-sm text-gray-900",children:s.message})}),e.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:[new Date(s.created_at).toLocaleString("en-GB",{day:"2-digit",month:"2-digit",year:"numeric",hour:"numeric",minute:"2-digit",hour12:!0}).replace(" pm","PM").replace(" am","AM")," by ",s.sender]})]})})},s.id))}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(T,{placeholder:"Type your message...",className:"min-h-[60px]",value:i,onChange:s=>n(s.target.value),rows:2}),e.jsx(w,{className:"w-full",onClick:h,disabled:x||!i.trim(),children:"Send Message"})]})]})]})]})]})}export{U as default};
