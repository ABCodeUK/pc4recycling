import{r as c,j as e}from"./app-BB65Mc1n.js";import{S as N,A as v,a as u,b as y,B as _,c as w,d as n,e as r,f as x,R as d}from"./breadcrumb-D6RxqHid.js";import{S as t}from"./separator-BWJbAkR8.js";import{B as o}from"./button-AMd0rht4.js";import"./index-BD8g9cTJ.js";import D from"./JobItems-QnCr2fGX.js";import{A as m}from"./arrow-left-Dk30N2JD.js";import{S}from"./square-pen-DOIaptEt.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./input-BdsrUm4j.js";import"./dialog-44kL--cs.js";import"./index-DJRbUwlk.js";import"./index-CwOflKzf.js";import"./index-Bax49BpN.js";import"./index-C6WAMNeG.js";import"./index-BD0Aflgb.js";import"./index-DwCxHBl2.js";import"./createLucideIcon-DhOTYlCm.js";import"./index-d89-VRCp.js";import"./index-C6DuYNlM.js";import"./index--1ygw0mz.js";import"./index-D9Y9XxbS.js";import"./calendar-C06wmWHl.js";import"./tabs-D_Qtma4o.js";import"./data-table-Lr0sWIax.js";import"./table-Baebw86p.js";import"./columns-Bx8iOx93.js";import"./select-Dp5Udnaz.js";import"./index-DbDOfuCE.js";import"./maximize-2-IQ1HLsfM.js";import"./trash-2-CyBVRyGm.js";import"./QuoteDialog-DrWkjDq3.js";import"./label-B29Fbpt8.js";import"./textarea-DrPmTigR.js";function re({job:a,customers:p,documents:h}){c.useState(h||{collection_manifest:null,hazard_waste_note:null,data_destruction_certificate:null,other:[]}),c.useState({collection_manifest:null,hazard_waste_note:null,data_destruction_certificate:null,other:null});const l=({label:i,value:b})=>e.jsxs("div",{className:"py-1 grid grid-cols-2",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:i}),e.jsx("dd",{className:"text-sm text-gray-900 text-left",children:b||"-"})]}),g=i=>i==="Active"?"bg-green-100 text-green-700 border-green-200":"bg-red-100 text-red-700 border-red-200",j=i=>{switch(i){case"Scheduled":return"bg-green-100 text-green-800 border-green-200";case"Postponed":case"Cancelled":return"bg-red-100 text-red-800 border-red-200";case"Collected":case"Processing":case"Complete":return"bg-green-100 text-green-800 border-green-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},s=p.find(i=>i.id===a.client_id),f=a.collection_date?new Date(a.collection_date).toLocaleDateString():"-";return e.jsxs(N,{children:[e.jsx(v,{}),e.jsxs(u,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 bg-white border-b",children:[e.jsx(y,{className:"-ml-1"}),e.jsx(t,{orientation:"vertical",className:"h-4 mx-2"}),e.jsx(_,{children:e.jsxs(w,{children:[e.jsx(n,{children:e.jsx(r,{href:"/dashboard",children:"Dashboard"})}),e.jsx(x,{}),e.jsxs(d,{role:"Developer|Administrator|Employee|Manager|Director",children:[e.jsx(n,{children:e.jsx(r,{href:"/quotes",children:"Quotes"})}),e.jsx(x,{})]}),e.jsx(n,{children:e.jsx(r,{href:"#",children:"View Quote"})})]})})]}),e.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-8",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"text-3xl font-semibold text-gray-800",children:["Quote: ",a.job_id]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsx(d,{role:"Developer|Administrator|Employee|Manager|Director",children:e.jsxs(o,{variant:"outline",onClick:()=>window.location.href="/quotes",children:[e.jsx(m,{className:"h-6 w-6"}),"Back to Quotes"]})}),e.jsx(d,{role:"Drivers",children:e.jsxs(o,{variant:"outline",onClick:()=>window.location.href="/dashboard",children:[e.jsx(m,{className:"h-6 w-6"}),"Back to Dashboard"]})}),e.jsx(d,{role:"Developer|Administrator|Employee|Manager|Director",children:e.jsxs(o,{onClick:()=>window.location.href=`/quotes/${a.id}/edit`,children:[e.jsx(S,{className:"h-6 w-6"}),"Edit Quote"]})})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("section",{className:"bg-white border shadow rounded-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold leading-7 text-gray-900 flex justify-between items-center",children:["Quote Details",e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Status:"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium border ${j(a.job_status)}`,children:a.job_status})]})]}),e.jsx(t,{className:"my-4"}),e.jsxs("dl",{className:"grid gap-2",children:[e.jsx(l,{label:"Job Number",value:a.job_id}),e.jsxs("div",{className:"py-1 grid grid-cols-2",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Customer"}),e.jsxs("dd",{className:"text-sm text-left",children:[e.jsx(d,{role:"Developer|Administrator|Employee|Manager|Director",children:e.jsx("a",{href:`/customers/${s==null?void 0:s.id}`,className:"text-primary hover:text-primary/90",children:(s==null?void 0:s.company_name)||(s==null?void 0:s.name)||"-"})}),e.jsx(d,{role:"Drivers",children:(s==null?void 0:s.company_name)||(s==null?void 0:s.name)||"-"})]})]}),e.jsx(l,{label:"Collection Date",value:f}),e.jsx(t,{className:"my-2"}),e.jsx(l,{label:"Address Line 1",value:a.address}),e.jsx(l,{label:"Address Line 2",value:a.address_2}),e.jsx(l,{label:"Town/City",value:a.town_city}),e.jsx(l,{label:"Postcode",value:a.postcode}),e.jsx(t,{className:"my-2"}),e.jsx(l,{label:"Onsite Contact",value:a.onsite_contact||"-"}),e.jsx(l,{label:"Onsite Number",value:a.onsite_number||"-"}),e.jsx(l,{label:"Onsite Email",value:a.onsite_email||"-"})]})]}),e.jsxs("section",{className:"bg-white border shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:"More Information"}),e.jsx(t,{className:"my-4"}),e.jsxs("dl",{className:"grid gap-2",children:[e.jsx(l,{label:"Collection Type",value:a.collection_type||"-"}),e.jsx(l,{label:"Data Sanitisation",value:a.data_sanitisation||"-"}),e.jsx(l,{label:"Service Level Agreement",value:a.sla||"-"}),e.jsx(t,{className:"my-2"}),e.jsx(l,{label:"Equipment Location",value:a.equipment_location||"-"}),e.jsx(l,{label:"Building Access",value:a.building_access||"-"}),e.jsx(l,{label:"Collection Route",value:a.collection_route||"-"}),e.jsx(l,{label:"Parking & Loading",value:a.parking_loading||"-"}),e.jsx(l,{label:"Equipment Readiness",value:a.equipment_readiness||"-"}),e.jsx(t,{className:"my-2"}),e.jsxs("div",{className:"py-1",children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Other Information"}),e.jsx("dd",{className:"mt-2 text-sm text-gray-900",children:a.instructions||"No instructions provided."})]})]})]}),e.jsx(d,{role:"Developer|Administrator|Employee|Manager|Director",children:e.jsxs("section",{className:"bg-white border shadow rounded-lg p-6",children:[e.jsxs("h2",{className:"text-xl font-semibold leading-7 text-gray-900 flex justify-between items-center",children:["Customer Details",e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-gray-600",children:"Account:"}),e.jsx("span",{className:`inline-flex items-center px-2.5 py-0.5 rounded-full text-sm font-medium border ${g(s==null?void 0:s.account_status)}`,children:(s==null?void 0:s.account_status)||"Disabled"})]})]}),e.jsx(t,{className:"my-4"}),e.jsxs("dl",{className:"grid gap-2",children:[e.jsx(l,{label:"Company Name",value:(s==null?void 0:s.company_name)||(s==null?void 0:s.name)||"-"}),e.jsx(l,{label:"Address Line 1",value:(s==null?void 0:s.address)||"-"}),e.jsx(l,{label:"Address Line 2",value:(s==null?void 0:s.address_2)||"-"}),e.jsx(l,{label:"Town/City",value:(s==null?void 0:s.town_city)||"-"}),e.jsx(l,{label:"County",value:(s==null?void 0:s.county)||"-"}),e.jsx(l,{label:"Postcode",value:(s==null?void 0:s.postcode)||"-"}),e.jsx(t,{className:"my-2"}),e.jsx(l,{label:"Contact Name",value:(s==null?void 0:s.contact_name)||"-"}),e.jsx(l,{label:"Position",value:(s==null?void 0:s.position)||"-"}),e.jsx(l,{label:"Landline",value:(s==null?void 0:s.landline)||"-"}),e.jsx(l,{label:"Mobile",value:(s==null?void 0:s.mobile)||"-"}),e.jsx(l,{label:"Email",value:(s==null?void 0:s.email)||"-"})]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-6",children:[(a.job_status==="Quote Provided"||a.job_status==="Quote Declined")&&e.jsxs("section",{className:"bg-white border shadow rounded-lg p-6",children:[e.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:"Quote Information"}),e.jsx(t,{className:"my-4"}),e.jsxs("dl",{className:"grid grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Quote Amount"}),e.jsx("dd",{className:"mt-2 text-sm text-gray-900",children:a.job_quote?`Â£${a.job_quote} +VAT`:"-"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Suggested Collection Date"}),e.jsx("dd",{className:"mt-2 text-sm text-gray-900",children:a.collection_date?new Date(a.collection_date).toLocaleDateString():"-"})]}),e.jsxs("div",{children:[e.jsx("dt",{className:"text-sm font-medium text-gray-500",children:"Additional Information"}),e.jsx("dd",{className:"mt-2 text-sm text-gray-900 whitespace-pre-wrap",children:a.quote_information||"No additional information provided."})]})]})]}),e.jsx("section",{children:e.jsx(D,{jobId:a.job_id,jobStatus:a.job_status,job:a})})]})]})]})]})}export{re as default};
