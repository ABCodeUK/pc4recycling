import{r as a,j as e,b as o,h as b}from"./app-CNWjOMNx.js";import{S as g,A as y,a as q,b as N,B as w,c as S,d as c,e as n,f as v}from"./breadcrumb-BRBq9mE3.js";import{S as l}from"./separator-BPue9knr.js";import{B as m}from"./button-Cif8vmUM.js";import{I as B}from"./input-CKARXW-H.js";import{DataTable as C}from"./data-table-C-3Hh9_h.js";import{columns as E}from"./columns-BA9YOdCc.js";import{t}from"./index-DROTMuiR.js";import{E as Q}from"./eye-B3TLv2b1.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./dialog-BfgzRhkV.js";import"./index-D-4-NTWd.js";import"./index-DPKFiV9N.js";import"./index-CnljWFNF.js";import"./index-BHpFse_T.js";import"./index-DUDCROMg.js";import"./index-BJMVI5o3.js";import"./createLucideIcon-ClQ1hqbp.js";import"./index-CmDO7QdU.js";import"./index-CNsmnkFI.js";import"./index-BqYSSVB3.js";import"./index-D0kbjZ6r.js";import"./calendar-BUGi4wxL.js";import"./table-B5rCecqS.js";import"./select-DyBRev3z.js";import"./index-BflIAMo0.js";import"./arrow-up-down-B8GbFRXv.js";function ae({jobs:d}){const[h,i]=a.useState(d),[u,x]=a.useState("");a.useEffect(()=>{(async()=>{try{const r=await o.get("/my-quotes");i(r.data.jobs)}catch{t.error("Failed to fetch jobs.")}})()},[]);const p=async s=>{try{const r=await o.get("/client-quotes/search",{params:{search:s}});i(r.data)}catch{t.error("Failed to search quotes.")}},j=async()=>{try{const s=t.loading("Creating new quote..."),r=await o.post("/my-quotes/request-quote");t.dismiss(s),r.data.success?(t.success("Quote created successfully"),b.visit(r.data.redirect)):t.error(r.data.message||"Failed to create quote")}catch(s){console.error("Error creating quote:",s),t.error("Failed to create quote. Please try again.")}},f=[...E,{id:"actions",header:"Actions",cell:({row:s})=>{const r=s.original;return e.jsx("div",{className:"flex justify-end space-x-2",children:e.jsx(m,{variant:"outline",size:"sm",onClick:()=>window.location.href=`/my-quotes/${r.id}/`,children:e.jsx(Q,{className:"h-4 w-4"})})})}}];return e.jsxs(g,{children:[e.jsx(y,{}),e.jsxs(q,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 bg-white border-b",children:[e.jsx(N,{className:"-ml-1"}),e.jsx(l,{orientation:"vertical",className:"h-4 mx-2"}),e.jsx(w,{children:e.jsxs(S,{children:[e.jsx(c,{children:e.jsx(n,{href:"/dashboard",children:"Dashboard"})}),e.jsx(v,{}),e.jsx(c,{children:e.jsx(n,{href:"/my-quotes",children:"My Quotes"})})]})})]}),e.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-8",children:[e.jsx("div",{className:"text-3xl font-semibold text-gray-800",children:"My Quotes"}),e.jsxs("section",{className:"bg-white border shadow rounded-lg p-6",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:"Manage Your Quotes"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage your quotes."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(B,{placeholder:"Search Collections...",value:u,onChange:s=>{x(s.target.value),p(s.target.value)},className:"max-w-sm"}),e.jsx(m,{onClick:j,children:"Request A Quote"})]})]}),e.jsx(l,{className:"my-4"}),e.jsx(C,{columns:f,data:h})]})]})]})]})}export{ae as default};
