import{r,$ as Tt,j as D}from"./app-Bu3c7SRr.js";import{_ as B}from"./extends-CF3RwP-h.js";import{r as at,$ as At}from"./index-C7O5j1LF.js";import{c as Lt,_ as _t,a as Ft,b as le,f as Mt,z as Pt,s as jt,d as Ut,e as Bt,g as Kt,h as Vt}from"./index-BUVUn23p.js";import{B as Wt}from"./badge-BsNgKg_w.js";import{c as U}from"./utils-CytzSlOG.js";import"./dialog-ggMMgphc.js";import{c as Ht}from"./createLucideIcon-Bz1iimCp.js";import{X as Ve}from"./index-ChGmrCfR.js";/**
 * @license lucide-react v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xt=Ht("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);var We=1,zt=.9,Gt=.8,Yt=.17,Ne=.1,Re=.999,qt=.9999,Zt=.99,Jt=/[\\\/_+.#"@\[\(\{&]/,Qt=/[\\\/_+.#"@\[\(\{&]/g,en=/[\s-]/,ct=/[\s-]/g;function Ae(e,t,n,o,a,c,s){if(c===t.length)return a===e.length?We:Zt;var l=`${a},${c}`;if(s[l]!==void 0)return s[l];for(var f=o.charAt(c),u=n.indexOf(f,a),d=0,v,N,h,R;u>=0;)v=Ae(e,t,n,o,u+1,c+1,s),v>d&&(u===a?v*=We:Jt.test(e.charAt(u-1))?(v*=Gt,h=e.slice(a,u-1).match(Qt),h&&a>0&&(v*=Math.pow(Re,h.length))):en.test(e.charAt(u-1))?(v*=zt,R=e.slice(a,u-1).match(ct),R&&a>0&&(v*=Math.pow(Re,R.length))):(v*=Yt,a>0&&(v*=Math.pow(Re,u-a))),e.charAt(u)!==t.charAt(c)&&(v*=qt)),(v<Ne&&n.charAt(u-1)===o.charAt(c+1)||o.charAt(c+1)===o.charAt(c)&&n.charAt(u-1)!==o.charAt(c))&&(N=Ae(e,t,n,o,u+1,c+2,s),N*Ne>v&&(v=N*Ne)),v>d&&(d=v),u=n.indexOf(f,u+1);return s[l]=d,d}function He(e){return e.toLowerCase().replace(ct," ")}function tn(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,Ae(e,t,He(e),He(t),0,0,{})}function ie(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function nn(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function lt(...e){return t=>e.forEach(n=>nn(n,t))}function he(...e){return r.useCallback(lt(...e),e)}function rn(e,t=[]){let n=[];function o(c,s){const l=r.createContext(s),f=n.length;n=[...n,s];function u(v){const{scope:N,children:h,...R}=v,m=(N==null?void 0:N[e][f])||l,y=r.useMemo(()=>R,Object.values(R));return r.createElement(m.Provider,{value:y},h)}function d(v,N){const h=(N==null?void 0:N[e][f])||l,R=r.useContext(h);if(R)return R;if(s!==void 0)return s;throw new Error(`\`${v}\` must be used within \`${c}\``)}return u.displayName=c+"Provider",[u,d]}const a=()=>{const c=n.map(s=>r.createContext(s));return function(l){const f=(l==null?void 0:l[e])||c;return r.useMemo(()=>({[`__scope${e}`]:{...l,[e]:f}}),[l,f])}};return a.scopeName=e,[o,on(a,...t)]}function on(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(c){const s=o.reduce((l,{useScope:f,scopeName:u})=>{const v=f(c)[`__scope${u}`];return{...l,...v}},{});return r.useMemo(()=>({[`__scope${t.scopeName}`]:s}),[s])}};return n.scopeName=t.scopeName,n}const an=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{},cn=Tt.useId||(()=>{});let ln=0;function Se(e){const[t,n]=r.useState(cn());return an(()=>{e||n(o=>o??String(ln++))},[e]),e||(t?`radix-${t}`:"")}function st(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...n)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...n)},[])}function sn({prop:e,defaultProp:t,onChange:n=()=>{}}){const[o,a]=un({defaultProp:t,onChange:n}),c=e!==void 0,s=c?e:o,l=st(n),f=r.useCallback(u=>{if(c){const v=typeof u=="function"?u(e):u;v!==e&&l(v)}else a(u)},[c,e,a,l]);return[s,f]}function un({defaultProp:e,onChange:t}){const n=r.useState(e),[o]=n,a=r.useRef(o),c=st(t);return r.useEffect(()=>{a.current!==o&&(c(o),a.current=o)},[o,a,c]),n}const je=r.forwardRef((e,t)=>{const{children:n,...o}=e,a=r.Children.toArray(n),c=a.find(fn);if(c){const s=c.props.children,l=a.map(f=>f===c?r.Children.count(s)>1?r.Children.only(null):r.isValidElement(s)?s.props.children:null:f);return r.createElement(Le,B({},o,{ref:t}),r.isValidElement(s)?r.cloneElement(s,void 0,l):null)}return r.createElement(Le,B({},o,{ref:t}),n)});je.displayName="Slot";const Le=r.forwardRef((e,t)=>{const{children:n,...o}=e;return r.isValidElement(n)?r.cloneElement(n,{...vn(o,n.props),ref:t?lt(t,n.ref):n.ref}):r.Children.count(n)>1?r.Children.only(null):null});Le.displayName="SlotClone";const dn=({children:e})=>r.createElement(r.Fragment,null,e);function fn(e){return r.isValidElement(e)&&e.type===dn}function vn(e,t){const n={...t};for(const o in t){const a=e[o],c=t[o];/^on[A-Z]/.test(o)?a&&c?n[o]=(...l)=>{c(...l),a(...l)}:a&&(n[o]=a):o==="style"?n[o]={...a,...c}:o==="className"&&(n[o]=[a,c].filter(Boolean).join(" "))}return{...e,...n}}const mn=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],K=mn.reduce((e,t)=>{const n=r.forwardRef((o,a)=>{const{asChild:c,...s}=o,l=c?je:t;return r.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),r.createElement(l,B({},s,{ref:a}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function bn(e,t){e&&at.flushSync(()=>e.dispatchEvent(t))}function Ue(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...n)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...n)},[])}function hn(e,t=globalThis==null?void 0:globalThis.document){const n=Ue(e);r.useEffect(()=>{const o=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",o),()=>t.removeEventListener("keydown",o)},[n,t])}const _e="dismissableLayer.update",pn="dismissableLayer.pointerDownOutside",gn="dismissableLayer.focusOutside";let Xe;const $n=r.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),En=r.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:a,onPointerDownOutside:c,onFocusOutside:s,onInteractOutside:l,onDismiss:f,...u}=e,d=r.useContext($n),[v,N]=r.useState(null),h=(n=v==null?void 0:v.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,R]=r.useState({}),m=he(t,x=>N(x)),y=Array.from(d.layers),[S]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),T=y.indexOf(S),O=v?y.indexOf(v):-1,E=d.layersWithOutsidePointerEventsDisabled.size>0,g=O>=T,A=yn(x=>{const F=x.target,W=[...d.branches].some(z=>z.contains(F));!g||W||(c==null||c(x),l==null||l(x),x.defaultPrevented||f==null||f())},h),L=xn(x=>{const F=x.target;[...d.branches].some(z=>z.contains(F))||(s==null||s(x),l==null||l(x),x.defaultPrevented||f==null||f())},h);return hn(x=>{O===d.layers.size-1&&(a==null||a(x),!x.defaultPrevented&&f&&(x.preventDefault(),f()))},h),r.useEffect(()=>{if(v)return o&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(Xe=h.body.style.pointerEvents,h.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(v)),d.layers.add(v),ze(),()=>{o&&d.layersWithOutsidePointerEventsDisabled.size===1&&(h.body.style.pointerEvents=Xe)}},[v,h,o,d]),r.useEffect(()=>()=>{v&&(d.layers.delete(v),d.layersWithOutsidePointerEventsDisabled.delete(v),ze())},[v,d]),r.useEffect(()=>{const x=()=>R({});return document.addEventListener(_e,x),()=>document.removeEventListener(_e,x)},[]),r.createElement(K.div,B({},u,{ref:m,style:{pointerEvents:E?g?"auto":"none":void 0,...e.style},onFocusCapture:ie(e.onFocusCapture,L.onFocusCapture),onBlurCapture:ie(e.onBlurCapture,L.onBlurCapture),onPointerDownCapture:ie(e.onPointerDownCapture,A.onPointerDownCapture)}))});function yn(e,t=globalThis==null?void 0:globalThis.document){const n=Ue(e),o=r.useRef(!1),a=r.useRef(()=>{});return r.useEffect(()=>{const c=l=>{if(l.target&&!o.current){let u=function(){it(pn,n,f,{discrete:!0})};const f={originalEvent:l};l.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=u,t.addEventListener("click",a.current,{once:!0})):u()}else t.removeEventListener("click",a.current);o.current=!1},s=window.setTimeout(()=>{t.addEventListener("pointerdown",c)},0);return()=>{window.clearTimeout(s),t.removeEventListener("pointerdown",c),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function xn(e,t=globalThis==null?void 0:globalThis.document){const n=Ue(e),o=r.useRef(!1);return r.useEffect(()=>{const a=c=>{c.target&&!o.current&&it(gn,n,{originalEvent:c},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function ze(){const e=new CustomEvent(_e);document.dispatchEvent(e)}function it(e,t,n,{discrete:o}){const a=n.originalEvent.target,c=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),o?bn(a,c):a.dispatchEvent(c)}function Ge(e){const t=r.useRef(e);return r.useEffect(()=>{t.current=e}),r.useMemo(()=>(...n)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...n)},[])}const Oe="focusScope.autoFocusOnMount",De="focusScope.autoFocusOnUnmount",Ye={bubbles:!1,cancelable:!0},wn=r.forwardRef((e,t)=>{const{loop:n=!1,trapped:o=!1,onMountAutoFocus:a,onUnmountAutoFocus:c,...s}=e,[l,f]=r.useState(null),u=Ge(a),d=Ge(c),v=r.useRef(null),N=he(t,m=>f(m)),h=r.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;r.useEffect(()=>{if(o){let m=function(O){if(h.paused||!l)return;const E=O.target;l.contains(E)?v.current=E:Z(v.current,{select:!0})},y=function(O){if(h.paused||!l)return;const E=O.relatedTarget;E!==null&&(l.contains(E)||Z(v.current,{select:!0}))},S=function(O){if(document.activeElement===document.body)for(const g of O)g.removedNodes.length>0&&Z(l)};document.addEventListener("focusin",m),document.addEventListener("focusout",y);const T=new MutationObserver(S);return l&&T.observe(l,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",m),document.removeEventListener("focusout",y),T.disconnect()}}},[o,l,h.paused]),r.useEffect(()=>{if(l){Ze.add(h);const m=document.activeElement;if(!l.contains(m)){const S=new CustomEvent(Oe,Ye);l.addEventListener(Oe,u),l.dispatchEvent(S),S.defaultPrevented||(Cn(Dn(ut(l)),{select:!0}),document.activeElement===m&&Z(l))}return()=>{l.removeEventListener(Oe,u),setTimeout(()=>{const S=new CustomEvent(De,Ye);l.addEventListener(De,d),l.dispatchEvent(S),S.defaultPrevented||Z(m??document.body,{select:!0}),l.removeEventListener(De,d),Ze.remove(h)},0)}}},[l,u,d,h]);const R=r.useCallback(m=>{if(!n&&!o||h.paused)return;const y=m.key==="Tab"&&!m.altKey&&!m.ctrlKey&&!m.metaKey,S=document.activeElement;if(y&&S){const T=m.currentTarget,[O,E]=Nn(T);O&&E?!m.shiftKey&&S===E?(m.preventDefault(),n&&Z(O,{select:!0})):m.shiftKey&&S===O&&(m.preventDefault(),n&&Z(E,{select:!0})):S===T&&m.preventDefault()}},[n,o,h.paused]);return r.createElement(K.div,B({tabIndex:-1},s,{ref:N,onKeyDown:R}))});function Cn(e,{select:t=!1}={}){const n=document.activeElement;for(const o of e)if(Z(o,{select:t}),document.activeElement!==n)return}function Nn(e){const t=ut(e),n=qe(t,e),o=qe(t.reverse(),e);return[n,o]}function ut(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:o=>{const a=o.tagName==="INPUT"&&o.type==="hidden";return o.disabled||o.hidden||a?NodeFilter.FILTER_SKIP:o.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function qe(e,t){for(const n of e)if(!Rn(n,{upTo:t}))return n}function Rn(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Sn(e){return e instanceof HTMLInputElement&&"select"in e}function Z(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Sn(e)&&t&&e.select()}}const Ze=On();function On(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Je(e,t),e.unshift(t)},remove(t){var n;e=Je(e,t),(n=e[0])===null||n===void 0||n.resume()}}}function Je(e,t){const n=[...e],o=n.indexOf(t);return o!==-1&&n.splice(o,1),n}function Dn(e){return e.filter(t=>t.tagName!=="A")}const kn=r.forwardRef((e,t)=>{var n;const{container:o=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...a}=e;return o?At.createPortal(r.createElement(K.div,B({},a,{ref:t})),o):null}),Qe=globalThis!=null&&globalThis.document?r.useLayoutEffect:()=>{};function In(e,t){return r.useReducer((n,o)=>{const a=t[n][o];return a??n},e)}const xe=e=>{const{present:t,children:n}=e,o=Tn(t),a=typeof n=="function"?n({present:o.isPresent}):r.Children.only(n),c=he(o.ref,a.ref);return typeof n=="function"||o.isPresent?r.cloneElement(a,{ref:c}):null};xe.displayName="Presence";function Tn(e){const[t,n]=r.useState(),o=r.useRef({}),a=r.useRef(e),c=r.useRef("none"),s=e?"mounted":"unmounted",[l,f]=In(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return r.useEffect(()=>{const u=ge(o.current);c.current=l==="mounted"?u:"none"},[l]),Qe(()=>{const u=o.current,d=a.current;if(d!==e){const N=c.current,h=ge(u);e?f("MOUNT"):h==="none"||(u==null?void 0:u.display)==="none"?f("UNMOUNT"):f(d&&N!==h?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,f]),Qe(()=>{if(t){const u=v=>{const h=ge(o.current).includes(v.animationName);v.target===t&&h&&at.flushSync(()=>f("ANIMATION_END"))},d=v=>{v.target===t&&(c.current=ge(o.current))};return t.addEventListener("animationstart",d),t.addEventListener("animationcancel",u),t.addEventListener("animationend",u),()=>{t.removeEventListener("animationstart",d),t.removeEventListener("animationcancel",u),t.removeEventListener("animationend",u)}}else f("ANIMATION_END")},[t,f]),{isPresent:["mounted","unmountSuspended"].includes(l),ref:r.useCallback(u=>{u&&(o.current=getComputedStyle(u)),n(u)},[])}}function ge(e){return(e==null?void 0:e.animationName)||"none"}let ke=0;function An(){r.useEffect(()=>{var e,t;const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",(e=n[0])!==null&&e!==void 0?e:et()),document.body.insertAdjacentElement("beforeend",(t=n[1])!==null&&t!==void 0?t:et()),ke++,()=>{ke===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(o=>o.remove()),ke--}},[])}function et(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.cssText="outline: none; opacity: 0; position: fixed; pointer-events: none",e}var dt=Lt(),Ie=function(){},we=r.forwardRef(function(e,t){var n=r.useRef(null),o=r.useState({onScrollCapture:Ie,onWheelCapture:Ie,onTouchMoveCapture:Ie}),a=o[0],c=o[1],s=e.forwardProps,l=e.children,f=e.className,u=e.removeScrollBar,d=e.enabled,v=e.shards,N=e.sideCar,h=e.noIsolation,R=e.inert,m=e.allowPinchZoom,y=e.as,S=y===void 0?"div":y,T=_t(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as"]),O=N,E=Ft([n,t]),g=le(le({},T),a);return r.createElement(r.Fragment,null,d&&r.createElement(O,{sideCar:dt,removeScrollBar:u,shards:v,noIsolation:h,inert:R,setCallbacks:c,allowPinchZoom:!!m,lockRef:n}),s?r.cloneElement(r.Children.only(l),le(le({},g),{ref:E})):r.createElement(S,le({},g,{className:f,ref:E}),l))});we.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};we.classNames={fullWidth:Mt,zeroRight:Pt};var Fe=!1;if(typeof window<"u")try{var $e=Object.defineProperty({},"passive",{get:function(){return Fe=!0,!0}});window.addEventListener("test",$e,$e),window.removeEventListener("test",$e,$e)}catch{Fe=!1}var ae=Fe?{passive:!1}:!1,Ln=function(e){return e.tagName==="TEXTAREA"},ft=function(e,t){var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ln(e)&&n[t]==="visible")},_n=function(e){return ft(e,"overflowY")},Fn=function(e){return ft(e,"overflowX")},tt=function(e,t){var n=t;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var o=vt(e,n);if(o){var a=mt(e,n),c=a[1],s=a[2];if(c>s)return!0}n=n.parentNode}while(n&&n!==document.body);return!1},Mn=function(e){var t=e.scrollTop,n=e.scrollHeight,o=e.clientHeight;return[t,n,o]},Pn=function(e){var t=e.scrollLeft,n=e.scrollWidth,o=e.clientWidth;return[t,n,o]},vt=function(e,t){return e==="v"?_n(t):Fn(t)},mt=function(e,t){return e==="v"?Mn(t):Pn(t)},jn=function(e,t){return e==="h"&&t==="rtl"?-1:1},Un=function(e,t,n,o,a){var c=jn(e,window.getComputedStyle(t).direction),s=c*o,l=n.target,f=t.contains(l),u=!1,d=s>0,v=0,N=0;do{var h=mt(e,l),R=h[0],m=h[1],y=h[2],S=m-y-c*R;(R||S)&&vt(e,l)&&(v+=S,N+=R),l=l.parentNode}while(!f&&l!==document.body||f&&(t.contains(l)||t===l));return(d&&(v===0||!a)||!d&&(N===0||!a))&&(u=!0),u},Ee=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},nt=function(e){return[e.deltaX,e.deltaY]},rt=function(e){return e&&"current"in e?e.current:e},Bn=function(e,t){return e[0]===t[0]&&e[1]===t[1]},Kn=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Vn=0,ce=[];function Wn(e){var t=r.useRef([]),n=r.useRef([0,0]),o=r.useRef(),a=r.useState(Vn++)[0],c=r.useState(function(){return jt()})[0],s=r.useRef(e);r.useEffect(function(){s.current=e},[e]),r.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var m=Ut([e.lockRef.current],(e.shards||[]).map(rt),!0).filter(Boolean);return m.forEach(function(y){return y.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),m.forEach(function(y){return y.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var l=r.useCallback(function(m,y){if("touches"in m&&m.touches.length===2)return!s.current.allowPinchZoom;var S=Ee(m),T=n.current,O="deltaX"in m?m.deltaX:T[0]-S[0],E="deltaY"in m?m.deltaY:T[1]-S[1],g,A=m.target,L=Math.abs(O)>Math.abs(E)?"h":"v";if("touches"in m&&L==="h"&&A.type==="range")return!1;var x=tt(L,A);if(!x)return!0;if(x?g=L:(g=L==="v"?"h":"v",x=tt(L,A)),!x)return!1;if(!o.current&&"changedTouches"in m&&(O||E)&&(o.current=g),!g)return!0;var F=o.current||g;return Un(F,y,m,F==="h"?O:E,!0)},[]),f=r.useCallback(function(m){var y=m;if(!(!ce.length||ce[ce.length-1]!==c)){var S="deltaY"in y?nt(y):Ee(y),T=t.current.filter(function(g){return g.name===y.type&&g.target===y.target&&Bn(g.delta,S)})[0];if(T&&T.should){y.cancelable&&y.preventDefault();return}if(!T){var O=(s.current.shards||[]).map(rt).filter(Boolean).filter(function(g){return g.contains(y.target)}),E=O.length>0?l(y,O[0]):!s.current.noIsolation;E&&y.cancelable&&y.preventDefault()}}},[]),u=r.useCallback(function(m,y,S,T){var O={name:m,delta:y,target:S,should:T};t.current.push(O),setTimeout(function(){t.current=t.current.filter(function(E){return E!==O})},1)},[]),d=r.useCallback(function(m){n.current=Ee(m),o.current=void 0},[]),v=r.useCallback(function(m){u(m.type,nt(m),m.target,l(m,e.lockRef.current))},[]),N=r.useCallback(function(m){u(m.type,Ee(m),m.target,l(m,e.lockRef.current))},[]);r.useEffect(function(){return ce.push(c),e.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:N}),document.addEventListener("wheel",f,ae),document.addEventListener("touchmove",f,ae),document.addEventListener("touchstart",d,ae),function(){ce=ce.filter(function(m){return m!==c}),document.removeEventListener("wheel",f,ae),document.removeEventListener("touchmove",f,ae),document.removeEventListener("touchstart",d,ae)}},[]);var h=e.removeScrollBar,R=e.inert;return r.createElement(r.Fragment,null,R?r.createElement(c,{styles:Kn(a)}):null,h?r.createElement(Bt,{gapMode:"margin"}):null)}const Hn=Kt(dt,Wn);var bt=r.forwardRef(function(e,t){return r.createElement(we,le({},e,{ref:t,sideCar:Hn}))});bt.classNames=we.classNames;const ht="Dialog",[pt,Fr]=rn(ht),[Xn,te]=pt(ht),zn=e=>{const{__scopeDialog:t,children:n,open:o,defaultOpen:a,onOpenChange:c,modal:s=!0}=e,l=r.useRef(null),f=r.useRef(null),[u=!1,d]=sn({prop:o,defaultProp:a,onChange:c});return r.createElement(Xn,{scope:t,triggerRef:l,contentRef:f,contentId:Se(),titleId:Se(),descriptionId:Se(),open:u,onOpenChange:d,onOpenToggle:r.useCallback(()=>d(v=>!v),[d]),modal:s},n)},gt="DialogPortal",[Gn,$t]=pt(gt,{forceMount:void 0}),Yn=e=>{const{__scopeDialog:t,forceMount:n,children:o,container:a}=e,c=te(gt,t);return r.createElement(Gn,{scope:t,forceMount:n},r.Children.map(o,s=>r.createElement(xe,{present:n||c.open},r.createElement(kn,{asChild:!0,container:a},s))))},Me="DialogOverlay",qn=r.forwardRef((e,t)=>{const n=$t(Me,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,c=te(Me,e.__scopeDialog);return c.modal?r.createElement(xe,{present:o||c.open},r.createElement(Zn,B({},a,{ref:t}))):null}),Zn=r.forwardRef((e,t)=>{const{__scopeDialog:n,...o}=e,a=te(Me,n);return r.createElement(bt,{as:je,allowPinchZoom:!0,shards:[a.contentRef]},r.createElement(K.div,B({"data-state":yt(a.open)},o,{ref:t,style:{pointerEvents:"auto",...o.style}})))}),me="DialogContent",Jn=r.forwardRef((e,t)=>{const n=$t(me,e.__scopeDialog),{forceMount:o=n.forceMount,...a}=e,c=te(me,e.__scopeDialog);return r.createElement(xe,{present:o||c.open},c.modal?r.createElement(Qn,B({},a,{ref:t})):r.createElement(er,B({},a,{ref:t})))}),Qn=r.forwardRef((e,t)=>{const n=te(me,e.__scopeDialog),o=r.useRef(null),a=he(t,n.contentRef,o);return r.useEffect(()=>{const c=o.current;if(c)return Vt(c)},[]),r.createElement(Et,B({},e,{ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ie(e.onCloseAutoFocus,c=>{var s;c.preventDefault(),(s=n.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:ie(e.onPointerDownOutside,c=>{const s=c.detail.originalEvent,l=s.button===0&&s.ctrlKey===!0;(s.button===2||l)&&c.preventDefault()}),onFocusOutside:ie(e.onFocusOutside,c=>c.preventDefault())}))}),er=r.forwardRef((e,t)=>{const n=te(me,e.__scopeDialog),o=r.useRef(!1),a=r.useRef(!1);return r.createElement(Et,B({},e,{ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:c=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,c),!c.defaultPrevented){var l;o.current||(l=n.triggerRef.current)===null||l===void 0||l.focus(),c.preventDefault()}o.current=!1,a.current=!1},onInteractOutside:c=>{var s,l;(s=e.onInteractOutside)===null||s===void 0||s.call(e,c),c.defaultPrevented||(o.current=!0,c.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const f=c.target;((l=n.triggerRef.current)===null||l===void 0?void 0:l.contains(f))&&c.preventDefault(),c.detail.originalEvent.type==="focusin"&&a.current&&c.preventDefault()}}))}),Et=r.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:o,onOpenAutoFocus:a,onCloseAutoFocus:c,...s}=e,l=te(me,n),f=r.useRef(null),u=he(t,f);return An(),r.createElement(r.Fragment,null,r.createElement(wn,{asChild:!0,loop:!0,trapped:o,onMountAutoFocus:a,onUnmountAutoFocus:c},r.createElement(En,B({role:"dialog",id:l.contentId,"aria-describedby":l.descriptionId,"aria-labelledby":l.titleId,"data-state":yt(l.open)},s,{ref:u,onDismiss:()=>l.onOpenChange(!1)}))),!1)});function yt(e){return e?"open":"closed"}const tr=zn,nr=Yn,rr=qn,or=Jn;var fe='[cmdk-group=""]',Te='[cmdk-group-items=""]',ar='[cmdk-group-heading=""]',Be='[cmdk-item=""]',ot=`${Be}:not([aria-disabled="true"])`,Pe="cmdk-item-select",Q="data-value",cr=(e,t,n)=>tn(e,t,n),xt=r.createContext(void 0),pe=()=>r.useContext(xt),wt=r.createContext(void 0),Ke=()=>r.useContext(wt),Ct=r.createContext(void 0),Nt=r.forwardRef((e,t)=>{let n=se(()=>{var i,$;return{search:"",value:($=(i=e.value)!=null?i:e.defaultValue)!=null?$:"",filtered:{count:0,items:new Map,groups:new Set}}}),o=se(()=>new Set),a=se(()=>new Map),c=se(()=>new Map),s=se(()=>new Set),l=Rt(e),{label:f,children:u,value:d,onValueChange:v,filter:N,shouldFilter:h,loop:R,disablePointerSelection:m=!1,vimBindings:y=!0,...S}=e,T=r.useId(),O=r.useId(),E=r.useId(),g=r.useRef(null),A=pr();ee(()=>{if(d!==void 0){let i=d.trim();n.current.value=i,L.emit()}},[d]),ee(()=>{A(6,ue)},[]);let L=r.useMemo(()=>({subscribe:i=>(s.current.add(i),()=>s.current.delete(i)),snapshot:()=>n.current,setState:(i,$,w)=>{var p,I,_;if(!Object.is(n.current[i],$)){if(n.current[i]=$,i==="search")ne(),W(),A(1,z);else if(i==="value"&&(w||A(5,ue),((p=l.current)==null?void 0:p.value)!==void 0)){let j=$??"";(_=(I=l.current).onValueChange)==null||_.call(I,j);return}L.emit()}},emit:()=>{s.current.forEach(i=>i())}}),[]),x=r.useMemo(()=>({value:(i,$,w)=>{var p;$!==((p=c.current.get(i))==null?void 0:p.value)&&(c.current.set(i,{value:$,keywords:w}),n.current.filtered.items.set(i,F($,w)),A(2,()=>{W(),L.emit()}))},item:(i,$)=>(o.current.add(i),$&&(a.current.has($)?a.current.get($).add(i):a.current.set($,new Set([i]))),A(3,()=>{ne(),W(),n.current.value||z(),L.emit()}),()=>{c.current.delete(i),o.current.delete(i),n.current.filtered.items.delete(i);let w=q();A(4,()=>{ne(),(w==null?void 0:w.getAttribute("id"))===i&&z(),L.emit()})}),group:i=>(a.current.has(i)||a.current.set(i,new Set),()=>{c.current.delete(i),a.current.delete(i)}),filter:()=>l.current.shouldFilter,label:f||e["aria-label"],disablePointerSelection:m,listId:T,inputId:E,labelId:O,listInnerRef:g}),[]);function F(i,$){var w,p;let I=(p=(w=l.current)==null?void 0:w.filter)!=null?p:cr;return i?I(i,n.current.search,$):0}function W(){if(!n.current.search||l.current.shouldFilter===!1)return;let i=n.current.filtered.items,$=[];n.current.filtered.groups.forEach(p=>{let I=a.current.get(p),_=0;I.forEach(j=>{let Y=i.get(j);_=Math.max(Y,_)}),$.push([p,_])});let w=g.current;G().sort((p,I)=>{var _,j;let Y=p.getAttribute("id"),b=I.getAttribute("id");return((_=i.get(b))!=null?_:0)-((j=i.get(Y))!=null?j:0)}).forEach(p=>{let I=p.closest(Te);I?I.appendChild(p.parentElement===I?p:p.closest(`${Te} > *`)):w.appendChild(p.parentElement===w?p:p.closest(`${Te} > *`))}),$.sort((p,I)=>I[1]-p[1]).forEach(p=>{let I=g.current.querySelector(`${fe}[${Q}="${encodeURIComponent(p[0])}"]`);I==null||I.parentElement.appendChild(I)})}function z(){let i=G().find(w=>w.getAttribute("aria-disabled")!=="true"),$=i==null?void 0:i.getAttribute(Q);L.setState("value",$||void 0)}function ne(){var i,$,w,p;if(!n.current.search||l.current.shouldFilter===!1){n.current.filtered.count=o.current.size;return}n.current.filtered.groups=new Set;let I=0;for(let _ of o.current){let j=($=(i=c.current.get(_))==null?void 0:i.value)!=null?$:"",Y=(p=(w=c.current.get(_))==null?void 0:w.keywords)!=null?p:[],b=F(j,Y);n.current.filtered.items.set(_,b),b>0&&I++}for(let[_,j]of a.current)for(let Y of j)if(n.current.filtered.items.get(Y)>0){n.current.filtered.groups.add(_);break}n.current.filtered.count=I}function ue(){var i,$,w;let p=q();p&&(((i=p.parentElement)==null?void 0:i.firstChild)===p&&((w=($=p.closest(fe))==null?void 0:$.querySelector(ar))==null||w.scrollIntoView({block:"nearest"})),p.scrollIntoView({block:"nearest"}))}function q(){var i;return(i=g.current)==null?void 0:i.querySelector(`${Be}[aria-selected="true"]`)}function G(){var i;return Array.from((i=g.current)==null?void 0:i.querySelectorAll(ot))}function k(i){let $=G()[i];$&&L.setState("value",$.getAttribute(Q))}function H(i){var $;let w=q(),p=G(),I=p.findIndex(j=>j===w),_=p[I+i];($=l.current)!=null&&$.loop&&(_=I+i<0?p[p.length-1]:I+i===p.length?p[0]:p[I+i]),_&&L.setState("value",_.getAttribute(Q))}function X(i){let $=q(),w=$==null?void 0:$.closest(fe),p;for(;w&&!p;)w=i>0?br(w,fe):hr(w,fe),p=w==null?void 0:w.querySelector(ot);p?L.setState("value",p.getAttribute(Q)):H(i)}let re=()=>k(G().length-1),V=i=>{i.preventDefault(),i.metaKey?re():i.altKey?X(1):H(1)},oe=i=>{i.preventDefault(),i.metaKey?k(0):i.altKey?X(-1):H(-1)};return r.createElement(K.div,{ref:t,tabIndex:-1,...S,"cmdk-root":"",onKeyDown:i=>{var $;if(($=S.onKeyDown)==null||$.call(S,i),!i.defaultPrevented)switch(i.key){case"n":case"j":{y&&i.ctrlKey&&V(i);break}case"ArrowDown":{V(i);break}case"p":case"k":{y&&i.ctrlKey&&oe(i);break}case"ArrowUp":{oe(i);break}case"Home":{i.preventDefault(),k(0);break}case"End":{i.preventDefault(),re();break}case"Enter":if(!i.nativeEvent.isComposing&&i.keyCode!==229){i.preventDefault();let w=q();if(w){let p=new Event(Pe);w.dispatchEvent(p)}}}}},r.createElement("label",{"cmdk-label":"",htmlFor:x.inputId,id:x.labelId,style:$r},f),Ce(e,i=>r.createElement(wt.Provider,{value:L},r.createElement(xt.Provider,{value:x},i))))}),lr=r.forwardRef((e,t)=>{var n,o;let a=r.useId(),c=r.useRef(null),s=r.useContext(Ct),l=pe(),f=Rt(e),u=(o=(n=f.current)==null?void 0:n.forceMount)!=null?o:s==null?void 0:s.forceMount;ee(()=>{if(!u)return l.item(a,s==null?void 0:s.id)},[u]);let d=St(a,c,[e.value,e.children,c],e.keywords),v=Ke(),N=J(A=>A.value&&A.value===d.current),h=J(A=>u||l.filter()===!1?!0:A.search?A.filtered.items.get(a)>0:!0);r.useEffect(()=>{let A=c.current;if(!(!A||e.disabled))return A.addEventListener(Pe,R),()=>A.removeEventListener(Pe,R)},[h,e.onSelect,e.disabled]);function R(){var A,L;m(),(L=(A=f.current).onSelect)==null||L.call(A,d.current)}function m(){v.setState("value",d.current,!0)}if(!h)return null;let{disabled:y,value:S,onSelect:T,forceMount:O,keywords:E,...g}=e;return r.createElement(K.div,{ref:be([c,t]),...g,id:a,"cmdk-item":"",role:"option","aria-disabled":!!y,"aria-selected":!!N,"data-disabled":!!y,"data-selected":!!N,onPointerMove:y||l.disablePointerSelection?void 0:m,onClick:y?void 0:R},e.children)}),sr=r.forwardRef((e,t)=>{let{heading:n,children:o,forceMount:a,...c}=e,s=r.useId(),l=r.useRef(null),f=r.useRef(null),u=r.useId(),d=pe(),v=J(h=>a||d.filter()===!1?!0:h.search?h.filtered.groups.has(s):!0);ee(()=>d.group(s),[]),St(s,l,[e.value,e.heading,f]);let N=r.useMemo(()=>({id:s,forceMount:a}),[a]);return r.createElement(K.div,{ref:be([l,t]),...c,"cmdk-group":"",role:"presentation",hidden:v?void 0:!0},n&&r.createElement("div",{ref:f,"cmdk-group-heading":"","aria-hidden":!0,id:u},n),Ce(e,h=>r.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?u:void 0},r.createElement(Ct.Provider,{value:N},h))))}),ir=r.forwardRef((e,t)=>{let{alwaysRender:n,...o}=e,a=r.useRef(null),c=J(s=>!s.search);return!n&&!c?null:r.createElement(K.div,{ref:be([a,t]),...o,"cmdk-separator":"",role:"separator"})}),ur=r.forwardRef((e,t)=>{let{onValueChange:n,...o}=e,a=e.value!=null,c=Ke(),s=J(d=>d.search),l=J(d=>d.value),f=pe(),u=r.useMemo(()=>{var d;let v=(d=f.listInnerRef.current)==null?void 0:d.querySelector(`${Be}[${Q}="${encodeURIComponent(l)}"]`);return v==null?void 0:v.getAttribute("id")},[]);return r.useEffect(()=>{e.value!=null&&c.setState("search",e.value)},[e.value]),r.createElement(K.input,{ref:t,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":f.listId,"aria-labelledby":f.labelId,"aria-activedescendant":u,id:f.inputId,type:"text",value:a?e.value:s,onChange:d=>{a||c.setState("search",d.target.value),n==null||n(d.target.value)}})}),dr=r.forwardRef((e,t)=>{let{children:n,label:o="Suggestions",...a}=e,c=r.useRef(null),s=r.useRef(null),l=pe();return r.useEffect(()=>{if(s.current&&c.current){let f=s.current,u=c.current,d,v=new ResizeObserver(()=>{d=requestAnimationFrame(()=>{let N=f.offsetHeight;u.style.setProperty("--cmdk-list-height",N.toFixed(1)+"px")})});return v.observe(f),()=>{cancelAnimationFrame(d),v.unobserve(f)}}},[]),r.createElement(K.div,{ref:be([c,t]),...a,"cmdk-list":"",role:"listbox","aria-label":o,id:l.listId},Ce(e,f=>r.createElement("div",{ref:be([s,l.listInnerRef]),"cmdk-list-sizer":""},f)))}),fr=r.forwardRef((e,t)=>{let{open:n,onOpenChange:o,overlayClassName:a,contentClassName:c,container:s,...l}=e;return r.createElement(tr,{open:n,onOpenChange:o},r.createElement(nr,{container:s},r.createElement(rr,{"cmdk-overlay":"",className:a}),r.createElement(or,{"aria-label":e.label,"cmdk-dialog":"",className:c},r.createElement(Nt,{ref:t,...l}))))}),vr=r.forwardRef((e,t)=>J(n=>n.filtered.count===0)?r.createElement(K.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),mr=r.forwardRef((e,t)=>{let{progress:n,children:o,label:a="Loading...",...c}=e;return r.createElement(K.div,{ref:t,...c,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":a},Ce(e,s=>r.createElement("div",{"aria-hidden":!0},s)))}),P=Object.assign(Nt,{List:dr,Item:lr,Input:ur,Group:sr,Separator:ir,Dialog:fr,Empty:vr,Loading:mr});function br(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function hr(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function Rt(e){let t=r.useRef(e);return ee(()=>{t.current=e}),t}var ee=typeof window>"u"?r.useEffect:r.useLayoutEffect;function se(e){let t=r.useRef();return t.current===void 0&&(t.current=e()),t}function be(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function J(e){let t=Ke(),n=()=>e(t.snapshot());return r.useSyncExternalStore(t.subscribe,n,n)}function St(e,t,n,o=[]){let a=r.useRef(),c=pe();return ee(()=>{var s;let l=(()=>{var u;for(let d of n){if(typeof d=="string")return d.trim();if(typeof d=="object"&&"current"in d)return d.current?(u=d.current.textContent)==null?void 0:u.trim():a.current}})(),f=o.map(u=>u.trim());c.value(e,l,f),(s=t.current)==null||s.setAttribute(Q,l),a.current=l}),a}var pr=()=>{let[e,t]=r.useState(),n=se(()=>new Map);return ee(()=>{n.current.forEach(o=>o()),n.current=new Map},[e]),(o,a)=>{n.current.set(o,a),t({})}};function gr(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function Ce({asChild:e,children:t},n){return e&&r.isValidElement(t)?r.cloneElement(gr(t),{ref:t.ref},n(t.props.children)):n(t)}var $r={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const Ot=r.forwardRef(({className:e,...t},n)=>D.jsx(P,{ref:n,className:U("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));Ot.displayName=P.displayName;const Er=r.forwardRef(({className:e,...t},n)=>D.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[D.jsx(Xt,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),D.jsx(P.Input,{ref:n,className:U("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));Er.displayName=P.Input.displayName;const Dt=r.forwardRef(({className:e,...t},n)=>D.jsx(P.List,{ref:n,className:U("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));Dt.displayName=P.List.displayName;const yr=r.forwardRef((e,t)=>D.jsx(P.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));yr.displayName=P.Empty.displayName;const kt=r.forwardRef(({className:e,...t},n)=>D.jsx(P.Group,{ref:n,className:U("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));kt.displayName=P.Group.displayName;const xr=r.forwardRef(({className:e,...t},n)=>D.jsx(P.Separator,{ref:n,className:U("-mx-1 h-px bg-border",e),...t}));xr.displayName=P.Separator.displayName;const ve=r.forwardRef(({className:e,...t},n)=>D.jsx(P.Item,{ref:n,className:U("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));ve.displayName=P.Item.displayName;function wr(e,t){const[n,o]=r.useState(e);return r.useEffect(()=>{const a=setTimeout(()=>o(e),t||500);return()=>{clearTimeout(a)}},[e,t]),n}function ye(e,t){if(e.length===0)return{};if(!t)return{"":e};const n={};return e.forEach(o=>{const a=o[t]||"";n[a]||(n[a]=[]),n[a].push(o)}),n}function Cr(e,t){const n=JSON.parse(JSON.stringify(e));for(const[o,a]of Object.entries(n))n[o]=a.filter(c=>!t.find(s=>s.value===c.value));return n}function Nr(e,t){for(const[,n]of Object.entries(e))if(n.some(o=>t.find(a=>a.value===o.value)))return!0;return!1}const It=r.forwardRef(({className:e,...t},n)=>J(a=>a.filtered.count===0)?D.jsx("div",{ref:n,className:U("py-6 text-center text-sm",e),"cmdk-empty":"",role:"presentation",...t}):null);It.displayName="CommandEmpty";const Rr=r.forwardRef(({value:e,onChange:t,placeholder:n,defaultOptions:o=[],options:a,delay:c,onSearch:s,onSearchSync:l,loadingIndicator:f,emptyIndicator:u,maxSelected:d=Number.MAX_SAFE_INTEGER,onMaxSelected:v,hidePlaceholderWhenSelected:N,disabled:h,groupBy:R,className:m,badgeClassName:y,selectFirstItem:S=!0,creatable:T=!1,triggerSearchOnFocus:O=!1,commandProps:E,inputProps:g,hideClearAllButton:A=!1},L)=>{const x=r.useRef(null),[F,W]=r.useState(!1),[z,ne]=r.useState(!1),[ue,q]=r.useState(!1),G=r.useRef(null),[k,H]=r.useState(e||[]),[X,re]=r.useState(ye(o,R)),[V,oe]=r.useState(""),i=wr(V,c||500);r.useImperativeHandle(L,()=>({selectedValue:[...k],input:x.current,focus:()=>{var b;return(b=x==null?void 0:x.current)==null?void 0:b.focus()},reset:()=>H([])}),[k]);const $=b=>{G.current&&!G.current.contains(b.target)&&x.current&&!x.current.contains(b.target)&&(W(!1),x.current.blur())},w=r.useCallback(b=>{const C=k.filter(M=>M.value!==b.value);H(C),t==null||t(C)},[t,k]),p=r.useCallback(b=>{const C=x.current;C&&((b.key==="Delete"||b.key==="Backspace")&&C.value===""&&k.length>0&&(k[k.length-1].fixed||w(k[k.length-1])),b.key==="Escape"&&C.blur())},[w,k]);r.useEffect(()=>(F?(document.addEventListener("mousedown",$),document.addEventListener("touchend",$)):(document.removeEventListener("mousedown",$),document.removeEventListener("touchend",$)),()=>{document.removeEventListener("mousedown",$),document.removeEventListener("touchend",$)}),[F]),r.useEffect(()=>{e&&H(e)},[e]),r.useEffect(()=>{if(!a||s)return;const b=ye(a||[],R);JSON.stringify(b)!==JSON.stringify(X)&&re(b)},[o,a,R,s,X]),r.useEffect(()=>{const b=()=>{const M=l==null?void 0:l(i);re(ye(M||[],R))};(async()=>{!l||!F||(O&&b(),i&&b())})()},[i,R,F,O]),r.useEffect(()=>{const b=async()=>{q(!0);const M=await(s==null?void 0:s(i));re(ye(M||[],R)),q(!1)};(async()=>{!s||!F||(O&&await b(),i&&await b())})()},[i,R,F,O]);const I=()=>{if(!T||Nr(X,[{value:V,label:V}])||k.find(C=>C.value===V))return;const b=D.jsx(ve,{value:V,className:"cursor-pointer",onMouseDown:C=>{C.preventDefault(),C.stopPropagation()},onSelect:C=>{if(k.length>=d){v==null||v(k.length);return}oe("");const M=[...k,{value:C,label:C}];H(M),t==null||t(M)},children:`Create "${V}"`});if(!s&&V.length>0||s&&i.length>0&&!ue)return b},_=r.useCallback(()=>{if(u)return s&&!T&&Object.keys(X).length===0?D.jsx(ve,{value:"-",disabled:!0,children:u}):D.jsx(It,{children:u})},[T,u,s,X]),j=r.useMemo(()=>Cr(X,k),[X,k]),Y=r.useCallback(()=>{if(E!=null&&E.filter)return E.filter;if(T)return(b,C)=>b.toLowerCase().includes(C.toLowerCase())?1:-1},[T,E==null?void 0:E.filter]);return D.jsxs(Ot,{ref:G,...E,onKeyDown:b=>{var C;p(b),(C=E==null?void 0:E.onKeyDown)==null||C.call(E,b)},className:U("h-auto overflow-visible bg-transparent",E==null?void 0:E.className),shouldFilter:(E==null?void 0:E.shouldFilter)!==void 0?E.shouldFilter:!s,filter:Y(),children:[D.jsx("div",{className:U("min-h-10 rounded-md border border-input text-base md:text-sm ring-offset-background focus-within:ring-2 focus-within:ring-ring focus-within:ring-offset-0",{"px-3 py-2":k.length!==0,"cursor-text":!h&&k.length!==0},m),onClick:()=>{var b;h||(b=x==null?void 0:x.current)==null||b.focus()},children:D.jsxs("div",{className:"relative flex flex-wrap gap-1",children:[k.map(b=>D.jsxs(Wt,{className:U("data-[disabled]:bg-muted-foreground data-[disabled]:text-muted data-[disabled]:hover:bg-muted-foreground","data-[fixed]:bg-muted-foreground data-[fixed]:text-muted data-[fixed]:hover:bg-muted-foreground",y),"data-fixed":b.fixed,"data-disabled":h||void 0,children:[b.label,D.jsx("button",{className:U("ml-1 rounded-full outline-none ring-offset-background focus:ring-2 focus:ring-ring focus:ring-offset-2",(h||b.fixed)&&"hidden"),onKeyDown:C=>{C.key==="Enter"&&w(b)},onMouseDown:C=>{C.preventDefault(),C.stopPropagation()},onClick:()=>w(b),children:D.jsx(Ve,{className:"h-3 w-3 text-muted-foreground hover:text-foreground"})})]},b.value)),D.jsx(P.Input,{...g,ref:x,value:V,disabled:h,onValueChange:b=>{var C;oe(b),(C=g==null?void 0:g.onValueChange)==null||C.call(g,b)},onBlur:b=>{var C;z||W(!1),(C=g==null?void 0:g.onBlur)==null||C.call(g,b)},onFocus:b=>{var C;W(!0),O&&(s==null||s(i)),(C=g==null?void 0:g.onFocus)==null||C.call(g,b)},placeholder:N&&k.length!==0?"":n,className:U("w-full bg-transparent border-none outline-none placeholder:text-muted-foreground focus:ring-0 px-3 py-2",g==null?void 0:g.className)}),D.jsx("button",{type:"button",onClick:()=>{H(k.filter(b=>b.fixed)),t==null||t(k.filter(b=>b.fixed))},className:U("absolute right-0 h-6 w-6 p-0",(A||h||k.length<1||k.filter(b=>b.fixed).length===k.length)&&"hidden"),children:D.jsx(Ve,{})})]})}),D.jsx("div",{className:"relative",children:F&&D.jsx(Dt,{className:"absolute top-1 z-10 w-full rounded-md border bg-popover text-popover-foreground shadow-md outline-none animate-in",onMouseLeave:()=>{ne(!1)},onMouseEnter:()=>{ne(!0)},onMouseUp:()=>{var b;(b=x==null?void 0:x.current)==null||b.focus()},children:ue?D.jsx(D.Fragment,{children:f}):D.jsxs(D.Fragment,{children:[_(),I(),!S&&D.jsx(ve,{value:"-",className:"hidden"}),Object.entries(j).map(([b,C])=>D.jsx(kt,{heading:b,className:"h-full overflow-auto",children:D.jsx(D.Fragment,{children:C.map(M=>D.jsx(ve,{value:M.label,disabled:M.disable,onMouseDown:de=>{de.preventDefault(),de.stopPropagation()},onSelect:()=>{if(k.length>=d){v==null||v(k.length);return}oe("");const de=[...k,M];H(de),t==null||t(de)},className:U("cursor-pointer",M.disable&&"cursor-default text-muted-foreground"),children:M.label},M.value))})},b))]})})})]})});Rr.displayName="MultipleSelector";export{Rr as M};
