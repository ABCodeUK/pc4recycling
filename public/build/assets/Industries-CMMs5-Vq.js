import{r as t,j as e,b as y}from"./app-CNWjOMNx.js";import{S as K,A as Q,a as X,b as Y,B as Z,c as ee,d as p,e as j,f as I}from"./breadcrumb-BRBq9mE3.js";import{S as F}from"./separator-BPue9knr.js";import{B as l}from"./button-Cif8vmUM.js";import{I as D}from"./input-CKARXW-H.js";import{L as k}from"./label-EHUiVpis.js";import{DataTable as se}from"./data-table-CfZdbJjj.js";import{columns as re}from"./columns-BlDgtdRn.js";import ae from"./VariablesNavigation-CNyR4bNM.js";import{D as E,a as te,b as T,c as B,d as P,e as L,f as O}from"./dialog-BfgzRhkV.js";import{A as ie,a as ne,b as le,c as de,d as oe,e as ce,f as me,g as he,h as xe}from"./alert-dialog-BBmyk8cd.js";import{t as i}from"./index-DROTMuiR.js";import{S as ue}from"./square-pen-DthIdKap.js";import{T as pe}from"./trash-2-UOQr6mTH.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./index-DUDCROMg.js";import"./index-CmDO7QdU.js";import"./index-D-4-NTWd.js";import"./index-DPKFiV9N.js";import"./index-BHpFse_T.js";import"./index-CNsmnkFI.js";import"./createLucideIcon-ClQ1hqbp.js";import"./index-BJMVI5o3.js";import"./index-BqYSSVB3.js";import"./index-CnljWFNF.js";import"./index-D0kbjZ6r.js";import"./calendar-BUGi4wxL.js";import"./table-B5rCecqS.js";import"./select-DyBRev3z.js";import"./index-BflIAMo0.js";import"./arrow-up-down-B8GbFRXv.js";import"./tabs-plg5bBI7.js";function Qe({industries:V}){const[z,g]=t.useState(V),[N,v]=t.useState({in_name:""}),[S,C]=t.useState({in_name:""}),[o,c]=t.useState({in_name:""}),[A,H]=t.useState(""),[je,m]=t.useState(!1),[f,w]=t.useState(null),[$,h]=t.useState(!1),[q,x]=t.useState(!1),u=()=>c({in_name:""}),b=()=>{v({in_name:""}),u()},_=(s,r)=>{const{name:a,value:n}=s.target;r==="add"?v(d=>({...d,[a]:n})):C(d=>({...d,[a]:n})),c(d=>({...d,[a]:""}))},M=s=>H(s.target.value),R=async()=>{u();try{m(!0);const s=await y.post("/settings/variables/industries",N);if(s.status===200){const r=s.data;g(a=>[...a,r]),b(),h(!1),i.success("Industry successfully created!")}else i.error("Failed to create Industry. Please try again.")}catch(s){s.response&&s.response.data.errors?c(s.response.data.errors):i.error("Error creating Industry. Please check the logs.")}finally{m(!1)}},U=async()=>{if(f){u();try{m(!0);const s=await y.put(`/settings/variables/industries/${f}`,S);if(s.status===200){const r=s.data;g(a=>a.map(n=>n.id===f?r:n)),w(null),x(!1),i.success("Industry successfully updated!")}else i.error("Failed to update Industry. Please try again.")}catch(s){s.response&&s.response.data.errors?c(s.response.data.errors):i.error("Error updating Industry. Please check the logs.")}finally{m(!1)}}},W=async s=>{try{(await y.delete(`/settings/variables/industries/${s}`)).status===200?(g(a=>a.filter(n=>n.id!==s)),i.success("Industry successfully deleted!")):i.error("Failed to delete Industry. Please try again.")}catch{i.error("Error deleting Industry. Please check the logs.")}},G=z.filter(s=>s.in_name.toLowerCase().includes(A.toLowerCase())),J=[...re,{id:"actions",header:()=>e.jsx("div",{className:"text-right",children:"Actions"}),cell:({row:s})=>{const r=s.original;return e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(l,{variant:"outline",size:"sm",onClick:()=>{C({in_name:r.in_name}),u(),w(r.id),x(!0)},children:e.jsx(ue,{className:"h-4 w-4"})}),e.jsxs(ie,{children:[e.jsx(ne,{asChild:!0,children:e.jsx(l,{variant:"destructive",size:"sm",children:e.jsx(pe,{className:"h-4 w-4"})})}),e.jsxs(le,{children:[e.jsxs(de,{children:[e.jsx(oe,{children:"Confirm Deletion"}),e.jsxs(ce,{children:["Are you sure you want to delete Industry"," ",e.jsx("b",{children:r.in_name}),"?"]})]}),e.jsxs(me,{children:[e.jsx(he,{children:"Cancel"}),e.jsx(xe,{onClick:()=>W(r.id),children:"Delete"})]})]})]})]})}}];return e.jsxs(K,{children:[e.jsx(Q,{}),e.jsxs(X,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 bg-white border-b",children:[e.jsx(Y,{className:"-ml-1"}),e.jsx(F,{orientation:"vertical",className:"h-4 mx-2"}),e.jsx(Z,{children:e.jsxs(ee,{children:[e.jsx(p,{children:e.jsx(j,{href:"/",children:"Dashboard"})}),e.jsx(I,{className:"hidden md:block"}),e.jsx(p,{children:e.jsx(j,{href:"/settings",children:"Settings"})}),e.jsx(I,{className:"hidden md:block"}),e.jsx(p,{children:e.jsx(j,{href:"/settings/variables",children:"Variables"})}),e.jsx(I,{className:"hidden md:block"}),e.jsx(p,{children:e.jsx(j,{href:"/settings/variables/industries",children:"Industrys"})})]})})]}),e.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-8",children:[e.jsx("div",{className:"text-3xl font-semibold text-gray-800",children:"Settings: Variables"}),e.jsx(ae,{currentTab:"industries"}),e.jsxs("section",{className:"bg-white border shadow rounded-lg p-6",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:"Manage Industrys"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add, edit, or delete Industrys used in the system."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(D,{placeholder:"Search Industrys...",value:A,onChange:M,className:"max-w-sm"}),e.jsxs(E,{open:$,onOpenChange:s=>{s||b(),h(s)},children:[e.jsx(te,{asChild:!0,children:e.jsx(l,{onClick:()=>h(!0),children:"Add Industry"})}),e.jsxs(T,{className:"sm:max-w-[425px] bg-white",children:[e.jsxs(B,{children:[e.jsx(P,{children:"Add Industry"}),e.jsx(L,{children:"Fill in the details for the new Industry below."})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[" ",e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{children:[e.jsxs(k,{htmlFor:"in_name",children:["Industry Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"in_name",name:"in_name",value:N.in_name,onChange:s=>_(s,"add")}),o.in_name&&e.jsx("p",{className:"text-red-600 text-sm",children:o.in_name})]})})]}),e.jsxs(O,{children:[e.jsx(l,{variant:"outline",onClick:()=>{b(),h(!1)},children:"Cancel"}),e.jsx(l,{onClick:R,children:"Create Industry"})]})]})]})]})]}),e.jsx(F,{className:"my-4"}),e.jsx(se,{columns:J,data:G})]}),e.jsx(E,{open:q,onOpenChange:x,children:e.jsxs(T,{className:"sm:max-w-[425px] bg-white",children:[e.jsxs(B,{children:[e.jsx(P,{children:"Edit Industry"}),e.jsx(L,{children:"Update the details for the Industry below."})]}),e.jsxs("div",{className:"bg-white border rounded-lg p-6",children:[" ",e.jsx("div",{className:"grid gap-4",children:e.jsxs("div",{children:[e.jsxs(k,{htmlFor:"in_name_edit",children:["Industry Name ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(D,{id:"in_name_edit",name:"in_name",value:S.in_name,onChange:s=>_(s,"edit")}),o.in_name&&e.jsx("p",{className:"text-red-600 text-sm",children:o.in_name})]})})]}),e.jsxs(O,{children:[e.jsx(l,{variant:"outline",onClick:()=>x(!1),children:"Cancel"}),e.jsx(l,{onClick:U,children:"Save Changes"})]})]})})]})]})]})}export{Qe as default};
