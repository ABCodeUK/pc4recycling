import{r as i,j as e}from"./app-CNWjOMNx.js";import{S as C,C as D}from"./checkbox-sJYclvVs.js";import{D as N,b as S,c as y,d as b,e as R}from"./dialog-BfgzRhkV.js";import{B as m}from"./button-Cif8vmUM.js";import{L as s}from"./label-EHUiVpis.js";import{I as d}from"./input-CKARXW-H.js";import"./extends-CF3RwP-h.js";import"./index-DPKFiV9N.js";import"./index-D-4-NTWd.js";import"./index-BflIAMo0.js";import"./index-CNsmnkFI.js";import"./createLucideIcon-ClQ1hqbp.js";import"./index-BJMVI5o3.js";import"./index-DUDCROMg.js";import"./utils-CytzSlOG.js";import"./index-CnljWFNF.js";import"./index-BHpFse_T.js";import"./index-BwobEAja.js";function K({isOpen:f,onClose:p,onComplete:h}){const[r,u]=i.useState(""),[n,x]=i.useState(new Date().toISOString().split(".")[0].slice(0,16)),[o,v]=i.useState(!1),a=i.useRef(null),j=()=>{var l,c;if(!o){alert("Please confirm receipt of all items");return}if((l=a.current)!=null&&l.isEmpty()){alert("Please provide a signature");return}if(!r.trim()){alert("Please provide your name");return}const t=(c=a.current)==null?void 0:c.getCanvas();t&&h(t.toDataURL(),r,n)},g=()=>{var t;(t=a.current)==null||t.clear()};return e.jsx(N,{open:f,onOpenChange:p,children:e.jsxs(S,{className:"max-w-3xl",children:[e.jsxs(y,{children:[e.jsx(b,{children:"Facility Receipt Confirmation"}),e.jsx(R,{children:"Please confirm receipt of all items at the facility."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"border rounded-lg p-4",children:e.jsx(C,{ref:a,canvasProps:{className:"signature-canvas w-full h-[200px] border rounded-lg bg-white",style:{touchAction:"none"}}})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(s,{htmlFor:"staffName",children:"Staff Name"}),e.jsx(d,{id:"staffName",value:r,onChange:t=>u(t.target.value),placeholder:"Enter your name"})]}),e.jsxs("div",{children:[e.jsx(s,{htmlFor:"receivedDate",children:"Date & Time Received"}),e.jsx(d,{id:"receivedDate",type:"datetime-local",value:n,onChange:t=>x(t.target.value)})]})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(D,{id:"items-confirmed",checked:o,onCheckedChange:t=>v(t)}),e.jsx(s,{htmlFor:"items-confirmed",className:"text-sm",children:"I confirm that all items listed have been received at the facility."})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx(m,{variant:"outline",onClick:g,children:"Clear"}),e.jsx(m,{onClick:j,children:"Mark Job Received"})]})]})]})})}export{K as default};
