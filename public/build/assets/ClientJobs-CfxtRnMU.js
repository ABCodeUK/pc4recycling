import{r as o,j as e,b as n}from"./app-CNWjOMNx.js";import{S as N,A as S,a as w,b as v,B as C,c as B,d as m,e as d,f as E}from"./breadcrumb-BRBq9mE3.js";import{S as h}from"./separator-BPue9knr.js";import{B as x}from"./button-Cif8vmUM.js";import{I as J}from"./input-CKARXW-H.js";import{DataTable as A}from"./data-table-H4RyLaRo.js";import{columns as R}from"./columns-0-OCE3RF.js";import{t as p}from"./index-DROTMuiR.js";import{E as q}from"./eye-B3TLv2b1.js";import"./index-BwobEAja.js";import"./utils-CytzSlOG.js";import"./dialog-BfgzRhkV.js";import"./index-D-4-NTWd.js";import"./index-DPKFiV9N.js";import"./index-CnljWFNF.js";import"./index-BHpFse_T.js";import"./index-DUDCROMg.js";import"./index-BJMVI5o3.js";import"./createLucideIcon-ClQ1hqbp.js";import"./index-CmDO7QdU.js";import"./index-CNsmnkFI.js";import"./index-BqYSSVB3.js";import"./index-D0kbjZ6r.js";import"./calendar-BUGi4wxL.js";import"./table-B5rCecqS.js";import"./select-DyBRev3z.js";import"./index-BflIAMo0.js";import"./arrow-up-down-B8GbFRXv.js";function ie({jobs:r}){const[u,a]=o.useState(r),[f,j]=o.useState(""),i=["Quote Draft","Quote Requested","Quote Rejected","Quote Provided"];o.useEffect(()=>{(async()=>{try{const c=(await n.get("/my-collections")).data.jobs.filter(l=>!i.includes(l.job_status));a(c)}catch{p.error("Failed to fetch jobs.")}})()},[]);const b=async s=>{try{const c=(await n.get("/client-jobs/search",{params:{search:s}})).data.filter(l=>!i.includes(l.job_status));a(c)}catch{p.error("Failed to search jobs.")}},g=()=>{window.location.href="/my-collections/request-collection"},y=[...R,{id:"actions",header:"Actions",cell:({row:s})=>{const t=s.original;return e.jsx("div",{className:"flex justify-end space-x-2",children:e.jsx(x,{variant:"outline",size:"sm",onClick:()=>window.location.href=`/my-collections/${t.id}/`,children:e.jsx(q,{className:"h-4 w-4"})})})}}];return o.useEffect(()=>{if(r){const s=r.filter(t=>!i.includes(t.job_status));a(s)}},[r]),e.jsxs(N,{children:[e.jsx(S,{}),e.jsxs(w,{children:[e.jsxs("header",{className:"flex h-16 items-center gap-2 px-4 bg-white border-b",children:[e.jsx(v,{className:"-ml-1"}),e.jsx(h,{orientation:"vertical",className:"h-4 mx-2"}),e.jsx(C,{children:e.jsxs(B,{children:[e.jsx(m,{children:e.jsx(d,{href:"/dashboard",children:"Dashboard"})}),e.jsx(E,{}),e.jsx(m,{children:e.jsx(d,{href:"/my-collections",children:"My Collections"})})]})})]}),e.jsxs("div",{className:"flex flex-1 flex-col gap-6 p-8",children:[e.jsx("div",{className:"text-3xl font-semibold text-gray-800",children:"My Collections"}),e.jsxs("section",{className:"bg-white border shadow rounded-lg p-6",children:[e.jsxs("header",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h2",{className:"text-xl font-semibold leading-7 text-gray-900",children:"Manage Your Collections"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage your collections."})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(J,{placeholder:"Search Collections...",value:f,onChange:s=>{j(s.target.value),b(s.target.value)},className:"max-w-sm"}),e.jsx(x,{onClick:g,children:"Request A Collection"})]})]}),e.jsx(h,{className:"my-4"}),e.jsx(A,{columns:y,data:u})]})]})]})]})}export{ie as default};
